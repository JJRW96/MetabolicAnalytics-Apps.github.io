<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Cycling Forces – ShinyApps</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../Cycling_Apps/CdA_App.html" rel="next">
<link href="../Cycling_Apps/index_Cycling_Apps.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-2fef5ea3f8957b3e4ecc936fc74692ca.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-c37c20c2d52f32749143e665e697ee81.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-b5dc5b953d67f135e06aa4f51ec7213e.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-c37c20c2d52f32749143e665e697ee81.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked fullcontent quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../Cycling_Apps/index_Cycling_Apps.html">Cycling Apps</a></li><li class="breadcrumb-item"><a href="../Cycling_Apps/Cycling_Forces.html">Cycling Forces</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/Logo_1.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../Metabolic_Model_Apps/index_Metabolic_Model_Apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Metabolic Model Apps</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../Metabolic_Model_Apps/Power_Profile/Power_Profile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Power Profile</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Metabolic_Model_Apps/Power_Profile/Etalon_Calculator.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Etalon Converter</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Metabolic_Model_Apps/Metabolic_Profile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Metabolic Profile</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Metabolic_Model_Apps/Mader_Modell.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercise Simulation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../Cycling_Apps/index_Cycling_Apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cycling Apps</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Cycling_Apps/Cycling_Forces.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Cycling Forces</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Cycling_Apps/CdA_App.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CdA Calculator</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Cadence_Test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cadence Tests</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../Cycling_Apps/index_Cycling_Apps.html">Cycling Apps</a></li><li class="breadcrumb-item"><a href="../Cycling_Apps/Cycling_Forces.html">Cycling Forces</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Cycling Forces</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><strong>Please note: This website is currently under construction.</strong> I’m gradually adding more detailed explanations of the applications and developing additional models. The content will continue to expand over time.</p>
<div style="position: relative; width: 100%; height: 800px;">
<p><iframe src="Cycling_Forces_1.4.html" style="position: absolute; width: 100%; height: 100%; border: none;"></iframe></p>
</div>
<p><br></p>
<p><a href="../Cycling_Forces_1.4.html">Link: Cycling Power Calculator</a></p>
<section id="cycling-power-forces-calculator-technical-documentation" class="level1">
<h1>Cycling Power &amp; Forces Calculator: Technical Documentation</h1>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">1. Introduction</h2>
<p>The <strong>Cycling Power &amp; Forces Calculator</strong> is an interactive, web-based educational and planning tool designed for cyclists, coaches, and sports scientists. It provides a real-time, physics-based simulation of the power required to cycle under a wide variety of conditions. The application’s core is a detailed physics model based on the well-established research paper by Martin et al.&nbsp;(1998), “Validation of a mathematical model for road cycling power.”</p>
<p>The primary functions of the application are:</p>
<ul>
<li><strong>Interactive Exploration:</strong> Users can manipulate variables such as speed, gradient, mass, and aerodynamic profile to instantly see the effect on required power and its constituent components (aerodynamic drag, rolling resistance, gravity).</li>
<li><strong>Data Visualization:</strong> The tool employs a suite of dynamic charts to visually represent how different resistive forces contribute to the total power requirement and how these relationships change with speed and gradient.</li>
<li><strong>Course Simulation:</strong> The application includes two calculators that allow users to model performance over specific courses: one for simple, constant-gradient courses, and a more advanced one that can process a detailed course profile from a CSV file to determine the constant power needed to achieve a target time.</li>
<li><strong>In-depth Education:</strong> The user interface is augmented with extensive explanatory text, detailing the physical meaning of key parameters like the Coefficient of Rolling Resistance (<span class="math inline">\(C_{rr}\)</span>) and the Aerodynamic Drag Area (<span class="math inline">\(C_d A\)</span>), complete with real-world data and examples.</li>
</ul>
<p>This document provides a comprehensive technical breakdown of the application’s user interface, underlying physics model, and key computational algorithms.</p>
</section>
<section id="uicomponent-breakdown" class="level2">
<h2 class="anchored" data-anchor-id="uicomponent-breakdown">2. UI/Component Breakdown</h2>
<p>The application is built with a two-pane layout: a <code>sidebar</code> for all user inputs and controls, and a <code>main-content</code> area for data visualization and output.</p>
<section id="the-sidebar-the-control-center" class="level3">
<h3 class="anchored" data-anchor-id="the-sidebar-the-control-center">2.1. The Sidebar: The Control Center</h3>
<p>The sidebar contains all the interactive elements that define the simulation’s parameters. These are logically grouped into sections.</p>
<section id="rider-bike-parameters" class="level4">
<h4 class="anchored" data-anchor-id="rider-bike-parameters"><strong>Rider &amp; Bike Parameters</strong></h4>
<p>This group defines the mass of the system.</p>
<ul>
<li><strong>Rider Mass:</strong> A slider (<code>#riderMass</code>) to set the rider’s body mass in kilograms.</li>
<li><strong>Bike Mass:</strong> A slider (<code>#bikeMass</code>) to set the bicycle’s mass in kilograms.</li>
<li><strong>Total Mass (<span class="math inline">\(m_T\)</span>):</strong> A read-only field (<code>#totalMass</code>) that automatically displays the sum of the rider and bike mass. This value is a critical input for calculating gravitational and rolling resistance forces.</li>
</ul>
</section>
<section id="environmental-situational-parameters" class="level4">
<h4 class="anchored" data-anchor-id="environmental-situational-parameters"><strong>Environmental &amp; Situational Parameters</strong></h4>
<p>This group defines the external conditions the cyclist is facing.</p>
<ul>
<li><strong>Speed:</strong> A slider (<code>#velocity</code>) that sets the cyclist’s ground speed (<span class="math inline">\(V_g\)</span>) in km/h. This is a primary independent variable in most calculations.</li>
<li><strong>Gradient:</strong> A slider (<code>#gradient</code>) to set the road gradient (<span class="math inline">\(G_R\)</span>) as a percentage. It can be positive (uphill) or negative (downhill). This directly influences the power required to overcome (or be aided by) gravity.</li>
<li><strong>Wind Speed:</strong> A slider (<code>#windSpeed</code>) to set the speed of the wind (<span class="math inline">\(V_w\)</span>) in km/h. Positive values represent a <strong>tailwind</strong> (assisting the rider), while negative values represent a <strong>headwind</strong> (opposing the rider). This is used to calculate the effective air velocity (<span class="math inline">\(V_a\)</span>) relative to the rider.</li>
</ul>
</section>
<section id="technical-aerodynamic-parameters" class="level4">
<h4 class="anchored" data-anchor-id="technical-aerodynamic-parameters"><strong>Technical &amp; Aerodynamic Parameters</strong></h4>
<p>This group defines the key coefficients that govern resistive forces. The application provides detailed in-app explanations for these complex parameters.</p>
<ul>
<li><strong>Drag Area (<span class="math inline">\(C_d A\)</span>):</strong> A slider (<code>#cdA</code>) to set the product of the coefficient of drag (<span class="math inline">\(C_d\)</span>) and the frontal area (<span class="math inline">\(A\)</span>). This single value represents the overall aerodynamic profile of the rider and bike system. The in-app documentation provides typical value ranges for different riding positions and equipment levels, from an upright commuter to a fully optimized time-trialist.</li>
<li><strong>Rolling Resistance (<span class="math inline">\(C_{rr}\)</span>):</strong> A slider (<code>#crr</code>) to set the Coefficient of Rolling Resistance. This dimensionless value quantifies the friction between the tires and the road surface. The in-app documentation explains that this is a baseline value and provides typical ranges for different tire types (e.g., racing slicks vs.&nbsp;durable touring tires) and discusses influencing factors like temperature and road surface.</li>
<li><strong>Air Density (<span class="math inline">\(\rho\)</span>):</strong> A slider (<code>#airDensity</code>) to set the density of the air in kg/m³. This value is affected by temperature, altitude, and humidity. A default value for sea level standard conditions (1.225 kg/m³) is provided.</li>
</ul>
</section>
</section>
<section id="the-main-content-area-analysis-visualization" class="level3">
<h3 class="anchored" data-anchor-id="the-main-content-area-analysis-visualization">2.2. The Main Content Area: Analysis &amp; Visualization</h3>
<p>This area displays the results of the calculations through numerical readouts and a series of charts.</p>
<section id="power-overview" class="level4">
<h4 class="anchored" data-anchor-id="power-overview"><strong>Power Overview</strong></h4>
<p>A numerical summary box (<code>.output-area</code>) shows the calculated power values for the current sidebar settings:</p>
<ul>
<li><strong>Required Total Power (<span class="math inline">\(P_{TOT}\)</span>):</strong> The total power the rider must produce at the pedals.</li>
<li><strong>Power per kg:</strong> The total power relative to the rider’s mass (W/kg).</li>
<li><strong>Power Components:</strong> A breakdown of the total power into its constituent parts: Aerodynamic Drag (<span class="math inline">\(P_{AT}\)</span>), Rolling Resistance (<span class="math inline">\(P_{RR}\)</span>), Potential Energy (<span class="math inline">\(P_{PE}\)</span>), and Mechanical Losses (<span class="math inline">\(P_{mech}\)</span>).</li>
</ul>
</section>
<section id="power-component-bar-chart" class="level4">
<h4 class="anchored" data-anchor-id="power-component-bar-chart"><strong>Power Component Bar Chart</strong></h4>
<p>A dynamic bar chart (<code>#powerBarChart</code>) that visually represents the breakdown of the power components from the Power Overview section. This provides an immediate understanding of which resistive force is dominant under the currently selected conditions.</p>
</section>
<section id="dynamic-power-vs.-speed-plot" class="level4">
<h4 class="anchored" data-anchor-id="dynamic-power-vs.-speed-plot"><strong>Dynamic Power vs.&nbsp;Speed Plot</strong></h4>
<p>A dynamic line chart (<code>#plotCurrentGradient</code>) that updates in real-time as the user changes the <code>gradient</code> or <code>windSpeed</code> sliders. It plots the different power components and the total power as a function of speed (from 0 to 50 km/h), clearly illustrating how each component scales with speed for the selected gradient.</p>
</section>
<section id="fixed-gradient-plots" class="level4">
<h4 class="anchored" data-anchor-id="fixed-gradient-plots"><strong>Fixed Gradient Plots</strong></h4>
<p>A set of three static line charts (<code>.fixed-plots-container</code>) that show the Power vs.&nbsp;Speed relationship for three fixed gradients: <strong>-5% (downhill)</strong>, <strong>0% (flat)</strong>, and <strong>+5% (uphill)</strong>. These serve as a stable reference for comparison, helping the user understand the profound impact of gradient on the power-speed relationship.</p>
</section>
<section id="course-calculators" class="level4">
<h4 class="anchored" data-anchor-id="course-calculators"><strong>Course Calculators</strong></h4>
<p>Two distinct calculator modules allow for more advanced analysis:</p>
<ul>
<li><strong>Manual Course Calculator:</strong> A simple form where the user inputs a course length, target time, and average gradient. The app calculates the average speed and then uses the core physics model to determine the single, constant average power required to meet that target. This is a non-iterative, direct calculation.</li>
<li><strong>Uploaded Profile Calculator:</strong> A more advanced tool that requires the user to upload a <code>.csv</code> file detailing a course profile (format: <code>segment_length_in_meters,gradient_in_percent</code>). The user also provides a target time. The application then uses a sophisticated iterative solver (detailed in Section 4) to find the <strong>constant power</strong> the rider would need to maintain throughout the entire variable-gradient course to finish in the specified time.</li>
</ul>
</section>
</section>
</section>
<section id="core-logic-physics-model" class="level2">
<h2 class="anchored" data-anchor-id="core-logic-physics-model">3. Core Logic &amp; Physics Model</h2>
<p>The application’s calculations are based on the model presented by Martin et al.&nbsp;(1998). The central function, <code>calculatePowerComponents()</code>, computes the various resistive forces and the power required to overcome them.</p>
<p>The total power required at the pedals (<span class="math inline">\(P_{TOT}\)</span>) is the sum of the powers needed to overcome all resistive forces, divided by the efficiency of the drivetrain (<span class="math inline">\(E_c\)</span>). <span class="math display">\[ P_{TOT} = \frac{P_{NET}}{E_c} = \frac{P_{AT} + P_{RR} + P_{PE} + P_{WB}}{E_c} \]</span> Where:</p>
<ul>
<li><span class="math inline">\(P_{NET}\)</span> is the net power required at the wheel-road interface.</li>
<li><span class="math inline">\(E_c\)</span> is the drivetrain efficiency, modeled as a constant <code>0.97698</code>.</li>
<li>The individual power components are: Aerodynamic (<span class="math inline">\(P_{AT}\)</span>), Rolling Resistance (<span class="math inline">\(P_{RR}\)</span>), Potential Energy / Gravity (<span class="math inline">\(P_{PE}\)</span>), and Wheel Bearing friction (<span class="math inline">\(P_{WB}\)</span>).</li>
</ul>
<section id="aerodynamic-power-p_at" class="level3">
<h3 class="anchored" data-anchor-id="aerodynamic-power-p_at">3.1. Aerodynamic Power (<span class="math inline">\(P_{AT}\)</span>)</h3>
<p>This is the power to overcome air resistance. It is highly dependent on the speed of the air relative to the cyclist (<span class="math inline">\(V_a\)</span>).</p>
<ul>
<li><strong>Relative Air Velocity:</strong> <span class="math inline">\(V_a = V_g + V_w\)</span> (where <span class="math inline">\(V_g\)</span> is ground speed and <span class="math inline">\(V_w\)</span> is wind speed; a headwind is negative).</li>
<li><strong>Aerodynamic Drag Force (<span class="math inline">\(F_D\)</span>):</strong> <span class="math inline">\(F_D = \frac{1}{2} \rho (C_d A + F_w) V_a^2 \cdot \text{sign}(V_a)\)</span>
<ul>
<li><span class="math inline">\(\rho\)</span> is air density.</li>
<li><span class="math inline">\(C_d A\)</span> is the drag area from the slider.</li>
<li><span class="math inline">\(F_w\)</span> is an additional drag factor for the wheels, modeled as a constant <code>0.0044</code>.</li>
</ul></li>
<li><strong>Aerodynamic Power:</strong> <span class="math inline">\(P_{AT} = F_D \cdot V_g\)</span>
<ul>
<li>Note that power is force multiplied by <strong>ground speed</strong>, not air speed. This correctly models the power needed to advance along the road against the drag force. In no-wind conditions (<span class="math inline">\(V_a \approx V_g\)</span>), this leads to the classic cubic relationship <span class="math inline">\(P_{AT} \propto V_g^3\)</span>.</li>
</ul></li>
</ul>
</section>
<section id="rolling-resistance-power-p_rr" class="level3">
<h3 class="anchored" data-anchor-id="rolling-resistance-power-p_rr">3.2. Rolling Resistance Power (<span class="math inline">\(P_{RR}\)</span>)</h3>
<p>This is the power to overcome friction between the tires and the road.</p>
<ul>
<li><strong>Rolling Resistance Force (<span class="math inline">\(F_{RR}\)</span>):</strong> <span class="math inline">\(F_{RR} = C_{rr} m_T g \cos(\alpha)\)</span>
<ul>
<li><span class="math inline">\(C_{rr}\)</span> is the coefficient of rolling resistance from the slider.</li>
<li><span class="math inline">\(m_T\)</span> is the total mass (rider + bike).</li>
<li><span class="math inline">\(g\)</span> is the acceleration due to gravity (9.81 m/s²).</li>
<li><span class="math inline">\(\alpha = \arctan(G_R)\)</span> is the road angle, where <span class="math inline">\(G_R\)</span> is the gradient. The cosine term accounts for the slight reduction in normal force on a slope.</li>
</ul></li>
<li><strong>Rolling Resistance Power:</strong> <span class="math inline">\(P_{RR} = F_{RR} \cdot V_g\)</span>. This is a linear relationship with speed.</li>
</ul>
</section>
<section id="potential-energy-power-p_pe" class="level3">
<h3 class="anchored" data-anchor-id="potential-energy-power-p_pe">3.3. Potential Energy Power (<span class="math inline">\(P_{PE}\)</span>)</h3>
<p>This is the power required to lift the system’s mass against gravity (or the power gained from gravity on a descent).</p>
<ul>
<li><strong>Gravitational Force (<span class="math inline">\(F_G\)</span>):</strong> <span class="math inline">\(F_G = m_T g \sin(\alpha)\)</span></li>
<li><strong>Potential Energy Power:</strong> <span class="math inline">\(P_{PE} = F_G \cdot V_g\)</span>. This power is positive on an incline and negative on a decline.</li>
</ul>
</section>
<section id="mechanical-losses-power-p_mech" class="level3">
<h3 class="anchored" data-anchor-id="mechanical-losses-power-p_mech">3.4. Mechanical Losses Power (<span class="math inline">\(P_{mech}\)</span>)</h3>
<p>This group includes losses in the drivetrain and wheel bearings.</p>
<ul>
<li><strong>Wheel Bearing Power (<span class="math inline">\(P_{WB}\)</span>):</strong> The model uses an empirical formula from the paper: <span class="math inline">\(P_{WB} = V_g \cdot (91 + 8.7 \cdot V_g) \cdot 0.001\)</span>.</li>
<li><strong>Chain Friction Power (<span class="math inline">\(P_C\)</span>):</strong> This is calculated as the difference between the power at the pedals and the net power at the wheel: <span class="math inline">\(P_C = P_{TOT} - P_{NET}\)</span>.</li>
<li><strong>Total Mechanical Loss Displayed:</strong> <span class="math inline">\(P_{mech} = P_{WB} + P_C\)</span>.</li>
</ul>
</section>
</section>
<section id="algorithmic-processes-the-profile-power-solver" class="level2">
<h2 class="anchored" data-anchor-id="algorithmic-processes-the-profile-power-solver">4. Algorithmic Processes: The Profile Power Solver</h2>
<p>The most computationally complex feature of the application is the <strong>Uploaded Profile Calculator</strong>. Its goal is to find the single, constant power output (<span class="math inline">\(P_{const}\)</span>) that allows a rider to complete a course with a variable-gradient profile in a specified <code>target_time</code>. This requires solving the physics equations “in reverse” and involves a nested-loop solver.</p>
<section id="the-outer-loop-bisection-search-for-power" class="level3">
<h3 class="anchored" data-anchor-id="the-outer-loop-bisection-search-for-power">4.1. The Outer Loop: Bisection Search for Power</h3>
<p>The top-level function <code>solvePowerForTime()</code> is responsible for finding the correct <span class="math inline">\(P_{const}\)</span>. Since there is no direct algebraic solution for power given a total time over a variable course, the algorithm employs a <strong>bisection search</strong>, an efficient root-finding algorithm.</p>
<ol type="1">
<li><strong>Define the Function:</strong> The algorithm seeks the root of the function <span class="math inline">\(f(P) = \text{calculateTimeForProfile}(P) - \text{target\_time}\)</span>. The goal is to find a power <span class="math inline">\(P\)</span> where <span class="math inline">\(f(P) = 0\)</span>.</li>
<li><strong>Establish a Bracket:</strong> It starts with a wide bracket of possible power values, <code>low_power = 0</code> and <code>high_power = 1500</code> W.</li>
<li><strong>Iterate:</strong> For a fixed number of iterations (<code>bisectionIterations = 20</code>):
<ol type="a">
<li>Calculate the midpoint power: <code>mid_power = (low_power + high_power) / 2</code>.</li>
<li>Calculate the total time it would take to complete the profile at <code>mid_power</code> by calling the inner-loop function, <code>calculateTimeForProfile(mid_power, ...)</code>.</li>
<li><strong>Compare and Narrow:</strong>
<ul>
<li>If the <code>calculated_time</code> is greater than the <code>target_time</code>, it means <code>mid_power</code> was too low. The correct power must be in the upper half of the bracket, so it sets <code>low_power = mid_power</code>.</li>
<li>If the <code>calculated_time</code> is less than the <code>target_time</code>, it means <code>mid_power</code> was too high. It sets <code>high_power = mid_power</code>.</li>
</ul></li>
</ol></li>
<li><strong>Result:</strong> After 20 iterations, the <code>[low_power, high_power]</code> bracket is extremely narrow, and <code>mid_power</code> is a very close approximation of the required constant power.</li>
</ol>
</section>
<section id="the-inner-loop-iterative-solver-for-speed" class="level3">
<h3 class="anchored" data-anchor-id="the-inner-loop-iterative-solver-for-speed">4.2. The Inner Loop: Iterative Solver for Speed</h3>
<p>The bisection search relies on the <code>calculateTimeForProfile()</code> function. This function, in turn, must calculate the rider’s speed on <em>each individual segment</em> of the course, given the constant power output <span class="math inline">\(P_{const}\)</span> and that segment’s specific gradient.</p>
<p>The function <code>solveSpeedForPower()</code> is used for this. The relationship between power and speed is a complex polynomial equation that cannot be solved algebraically for speed (<span class="math inline">\(V_g\)</span>). Therefore, an iterative numerical solver is used.</p>
<ol type="1">
<li><strong>Initial Guess:</strong> Start with an initial guess for speed, <code>Vg = 5.0</code> m/s.</li>
<li><strong>Iterate:</strong> For a fixed number of iterations (<code>solverIterations = 15</code>):
<ol type="a">
<li><strong>Calculate Power at Guess:</strong> Using the current speed guess <code>Vg</code>, calculate the resulting net power (<code>calculated_pnet</code>) using the forward <code>calculatePowerComponents()</code> function.</li>
<li><strong>Calculate Error:</strong> Find the difference between the target net power (<code>target_pnet = P_const * Ec</code>) and the <code>calculated_pnet</code>.</li>
<li><strong>Adjust Guess:</strong> Adjust the speed guess <code>Vg</code> based on the error. The adjustment is scaled by a factor related to the derivative of the power-speed curve to improve convergence (similar to a Newton-Raphson step): <code>Vg += error * (Vg / (3 * calculated_pnet))</code>.</li>
<li><strong>Check for Convergence:</strong> If the absolute error is very small (<code>&lt; 0.1</code> W), the loop terminates early as a solution has been found.</li>
</ol></li>
<li><strong>Return Speed:</strong> After the iterations, the final <code>Vg</code> is the calculated speed for that segment.</li>
</ol>
<p>This nested solver structure allows the application to accurately and efficiently solve a complex, real-world physics problem that lacks a simple closed-form solution.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/JJRW96\.github\.io\/MetabolicAnalytics-Apps\.github\.io\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../Cycling_Apps/index_Cycling_Apps.html" class="pagination-link" aria-label="Cycling Apps">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Cycling Apps</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../Cycling_Apps/CdA_App.html" class="pagination-link" aria-label="CdA Calculator">
        <span class="nav-page-text">CdA Calculator</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Johannes Will, 2025 | <a href="mailto:JohannesWill96@gmail.com">JohannesWill96@gmail.com</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p><a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>